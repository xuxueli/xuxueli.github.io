
### 1、brew

安装 homebrew
```
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

替换镜像源
- 1、阿里镜像站：https://developer.aliyun.com/mirror/homebrew/
- 2、使用国内安装brew，更换国内源：https://www.cnblogs.com/orzs/p/18306760

```
# bash 
echo 'export HOMEBREW_API_DOMAIN="https://mirrors.aliyun.com/homebrew-bottles/api"' >> ~/.bash_profile
echo 'export HOMEBREW_BREW_GIT_REMOTE="https://mirrors.aliyun.com/homebrew/brew.git"' >> ~/.bash_profile
echo 'export HOMEBREW_CORE_GIT_REMOTE="https://mirrors.aliyun.com/homebrew/homebrew-core.git"' >> ~/.bash_profile
echo 'export HOMEBREW_BOTTLE_DOMAIN="https://mirrors.aliyun.com/homebrew/homebrew-bottles"' >> ~/.bash_profile

source ~/.bash_profile
brew update
```

### 2、nvm
nvm是一个‌nodejs的版本管理工具，可以通过它安装和切换不同版本的nodejs，解决版本不兼容的问题。安装前需要卸载之前的nodejs。

安装：
```
brew install nvm
# uninstall
brew uninstall nvm
```

环境配置：
```
# create NVM's working directory
mkdir ~/.nvm

# Add to ~/.profile or ~/.zshrc:
export NVM_DIR="$HOME/.nvm"
  [ -s "/opt/homebrew/opt/nvm/nvm.sh" ] && \. "/opt/homebrew/opt/nvm/nvm.sh"  # This loads nvm
  [ -s "/opt/homebrew/opt/nvm/etc/bash_completion.d/nvm" ] && \. "/opt/homebrew/opt/nvm/etc/bash_completion.d/nvm"  # This loads nvm bash_completion

```

### 3、node + npm 安装
通过nvm命令安装指定版本的nodejs + npm。
https://nodejs.cn/en/download 

```
# 下载并安装 Node.js（可能需要重新启动终端）
nvm install 24   
# 验证环境中是否存在正确的 Node.js 版本
node -v 
# 验证环境中是否存在正确的 npm 版本 
npm -v 
```

更换npm的源
```
# 查看当前配置的源：
npm config get registry

# 切换到官方npm源：
npm config set registry https://registry.npmjs.org/

# 切换到淘宝npm镜像：
npm config set registry https://registry.npmmirror.com/
```

### 4、demo

```
npm init vite@latest my-vite-app --template java
cd my-vite-app
npm install
npm run dev
```


### 5、项目配置

**a、package.json**  
package.json 是 Node.js 项目的核心配置文件，用于定义项目的元数据、依赖项、脚本命令等信息。

```
{
  "name": "my-project",                             // 包的名称（必须唯一）。
  "version": "1.0.0",                               // 包的版本号，遵循语义化版本规范（SemVer）。
  "description": "A sample Node.js project",        // 项目的简短描述。
  "main": "index.js",                               // 入口文件路径（默认为 index.js）。
  "scripts": {                                      // 自定义脚本命令（后面会详细介绍）。
    "start": "node index.js",
    "test": "jest"
  },
  "dependencies": {                                 // 生产环境所需的依赖包。                 
    "express": "^4.18.2"
  },
  "devDependencies": {                              // 开发环境所需的依赖包。
    "jest": "^29.0.0"
  },
  keywords: []                                      // 关键词，用于搜索优化。
  "author": "Your Name",                            // 作者信息。
  "license": "MIT"                                  // 许可证类型（如 MIT、Apache 等）。
}
```

**b、scripts 属性**
scripts 是 package.json 中的一个重要部分，用于定义可执行的命令别名。这些命令可以通过 npm run <script-name> 来运行。

常见用途：
- 启动应用（如 npm start）
- 运行测试（如 npm test）
- 构建项目（如 npm run build）
- 执行自定义任务（如清理缓存、打包等）

```
"scripts": {
    "dev": "vite",                                                      // 运行开发服务器：npm run dev
    "build:prod": "vite build",                                         // 构建生产代码：npm run build
    "build:stage": "vite build --mode staging",
    "preview": "vite preview",
    "type-check": "tsc --noEmit",
    "lint": "eslint src --ext .js,.jsx,.ts,.tsx",                       // 检查代码风格：npm run lint
    "format": "prettier --write src/**/*.{js,jsx,ts,tsx,json,css,scss,md}",
    "test": "vitest",
    "coverage": "vitest run --coverage",
    "clean": "rimraf dist"
}
```

注意：某些脚本有简写形式，例如：npm run dev 等价于 npm run start:dev；npm start 等价于 npm run start

**c、npm 工具**
NPM 是 Node.js 的包管理工具，用于安装、发布和管理 JavaScript 包。

- 安装依赖：
    - 安装项目依赖：npm install
    - 安装指定包：npm install <package-name>
    - 安装开发依赖：npm install <package-name> --save-dev
- 运行脚本：
    - 执行 package.json 中定义的脚本：npm run <script-name>
- 初始化项目：
    - 创建新的 package.json 文件：npm init
    - 快速初始化（跳过交互）：npm init -y
- 更新依赖：
    - 更新所有依赖：npm update
    - 更新指定包：npm update <package-name>
- 卸载依赖：
    - 卸载包并从 package.json 移除：npm uninstall <package-name>
- 查看信息：
    - 查看已安装包列表：npm list
    - 查看全局安装的包：npm list -g
- 发布包：
    - 登录 NPM 账户：npm login
    - 发布包：npm publish
